[{"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/index.js":"1","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/App.js":"2","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/reportWebVitals.js":"3","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/axios.js":"4","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/utils/layout.js":"5","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/context/userContext.js":"6","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/sidebar/sidebar.js":"7","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/login/login.js":"8","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/signup/signup.js":"9","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/chat/chat.js":"10","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/sidebarChat/sidebarChat.js":"11"},{"size":591,"mtime":1607918557381,"results":"12","hashOfConfig":"13"},{"size":1830,"mtime":1608123949131,"results":"14","hashOfConfig":"13"},{"size":362,"mtime":1607397261064,"results":"15","hashOfConfig":"13"},{"size":126,"mtime":1608007705198,"results":"16","hashOfConfig":"13"},{"size":208,"mtime":1607943633305,"results":"17","hashOfConfig":"13"},{"size":98,"mtime":1607945254819,"results":"18","hashOfConfig":"13"},{"size":2415,"mtime":1608227889624,"results":"19","hashOfConfig":"13"},{"size":1738,"mtime":1608122699885,"results":"20","hashOfConfig":"13"},{"size":2389,"mtime":1607975887327,"results":"21","hashOfConfig":"13"},{"size":4294,"mtime":1608231073444,"results":"22","hashOfConfig":"13"},{"size":1313,"mtime":1608228438101,"results":"23","hashOfConfig":"13"},{"filePath":"24","messages":"25","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},"sihtfh",{"filePath":"27","messages":"28","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"26"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"40","usedDeprecatedRules":"26"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"26"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"46","usedDeprecatedRules":"26"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"26"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/index.js",[],["51","52"],"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/App.js",["53"],"import \"./App.css\";\nimport Sidebar from \"./components/sidebar/sidebar\";\nimport Chat from \"./components/chat/chat\";\nimport { useState, useEffect } from \"react\";\nimport { Switch, Route, useHistory } from \"react-router-dom\";\nimport Login from \"./components/login/login\";\nimport Signup from \"./components/signup/signup\";\nimport Layout from \"./utils/layout\";\nimport axios from \"./axios\";\nimport UserContext from \"./context/userContext\";\n\nfunction App() {\n  const [userData, setUserData] = useState({\n    token: undefined,\n    user: undefined,\n  });\n\n  const history = useHistory();\n  \n  // extract token from local storage and validate it to login automatically\n  useEffect(() => {\n    const validateToken = async () => {\n      //check if token is present in local storage\n      let token = localStorage.getItem(\"auth-token\");\n      if (!token) {\n        history.push(\"/login\");\n        return;\n      }\n      let verifyTokenRes;\n      try {\n        verifyTokenRes = await axios.get(\"/verifyToken/\" + token);\n      } catch (err) {\n        history.push(\"/login\");\n        return;\n      }\n\n      setUserData({\n        token,\n        user: verifyTokenRes.data.user,\n      });\n    };\n    validateToken();\n  }, []);\n\n  return (\n    <div className=\"app\">\n      <UserContext.Provider value={{ userData, setUserData }}>\n        <Switch>\n          <Route path=\"/rooms/:roomId\">\n            <Layout>\n              <Sidebar />\n              <Chat />\n            </Layout>\n          </Route>\n          <Route exact path=\"/\">\n            <Layout>\n              <Sidebar />\n            </Layout>\n          </Route>\n          <Route path=\"/login\">\n            <Login />\n          </Route>\n          <Route path=\"/signup\">\n            <Signup />\n          </Route>\n        </Switch>\n      </UserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/reportWebVitals.js",[],"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/axios.js",[],"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/utils/layout.js",[],"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/context/userContext.js",[],"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/sidebar/sidebar.js",["54","55","56","57"],"import React, { useState, useEffect, useContext } from \"react\";\nimport classes from \"./sidebar.module.css\";\nimport axios from \"../../axios\";\nimport Pusher from \"pusher-js\";\nimport UserContext from \"../../context/userContext\";\nimport {useHistory} from 'react-router-dom';\n\n//import components\nimport SidebarChat from \"../sidebarChat/sidebarChat\";\n\n//material-ui imports\nimport DonutLargeIcon from \"@material-ui/icons/DonutLarge\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\nimport { Avatar, IconButton } from \"@material-ui/core\";\nimport SearchOutlinedIcon from \"@material-ui/icons/SearchOutlined\";\n\nfunction Sidebar() {\n  let [rooms, setRooms] = useState([]);\n  const { userData } = useContext(UserContext);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    let token = userData.token;\n    axios\n      .get(\"/rooms\", {\n        headers: {\n          Authorization: \"Bearer \" + token,\n        },\n      })\n      .then((res) => {\n        setRooms(res.data);\n      })\n      .catch((err) => console.log(err.response));\n  }, [userData]);\n\n  useEffect(() => {\n    const pusher = new Pusher(\"f891c6ff78f3484303a0\", {\n      cluster: \"ap2\",\n    });\n\n    const channel = pusher.subscribe(\"rooms\");\n    channel.bind(\"room added\", (newRoom) => {\n      setRooms([...rooms, newRoom]);\n    });\n\n    return () => {\n      channel.unbind_all();\n      channel.unsubscribe();\n    };\n  }, [rooms]);\n\n  const logout = () => {\n    localStorage.setItem('auth-token',\"\");\n    history.push('/login');\n  }\n\n  return (\n    <div className={classes.Sidebar}>\n      <div className={classes.Sidebar__header}>\n        <Avatar src=\"\" />\n        <div className={classes.Sidebar__headerRight}>\n          {/* <IconButton>\n            <MoreVertIcon />\n          </IconButton> */}\n          <button onClick={logout}>Logout</button>\n        </div>\n      </div>\n\n      <div className={classes.Sidebar__search}>\n        <div className={classes.Sidebar__searchContainer}>\n          <SearchOutlinedIcon className={classes.MuiIcon} />\n          <input placeholder=\"Search or start new chat\" type=\"text\" />\n        </div>\n      </div>\n\n      <div className={classes.Sidebar__chats}>\n        <SidebarChat addNewChat />\n        {rooms.map((room) => {\n          return <SidebarChat key={room._id} id={room._id} name={room.name} />;\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default Sidebar;\n","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/login/login.js",["58","59"],"import React, { useState, useContext } from \"react\";\nimport classes from \"./login.module.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport UserContext from \"../../context/userContext\";\nimport axios from \"../../axios\";\n\nconst Login = () => {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [error, setError] = useState();\n\n  const { userData,setUserData } = useContext(UserContext);\n  const history = useHistory();\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n    try {\n      const loginRes = await axios.post(\"/login\", { email, password });\n      const { token, user } = { ...loginRes.data };\n      setUserData({ token, user });\n      localStorage.setItem(\"auth-token\", token);\n      history.push(\"/\");\n    } catch (err) {\n      setError(err.response.data.message);\n    }\n  };\n\n  return (\n    <div className={classes.Login__container}>\n      <h1 className={classes.Login__heading}>Login</h1>\n      <form className={classes.Login__form} onSubmit={submitHandler}>\n        <label>Username</label>\n        <br />\n        <input\n          type=\"text\"\n          onChange={(e) => setEmail(e.target.value)}\n          placeholder=\"Enter email\"\n          required\n        />\n        <br />\n\n        <label>Password</label>\n        <br />\n        <input\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          placeholder=\"Enter password\"\n          required\n        />\n        <br />\n\n        <button type=\"submit\" className={classes.Login__button}>\n          Login\n        </button>\n        <p>\n          Don't have an account? <Link to=\"/signup\">Sign Up</Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/signup/signup.js",["60","61"],"import React, { useState, useContext } from \"react\";\nimport classes from \"./signup.module.css\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport UserContext from \"../../context/userContext\";\nimport axios from \"../../axios\";\n\nexport default function Signup(props) {\n  const [email, setEmail] = useState();\n  const [password, setPassword] = useState();\n  const [passwordConfirm, setPasswordConfirm] = useState();\n  const [name, setName] = useState();\n  const [error, setError] = useState();\n\n  const { setUserData } = useContext(UserContext);\n  const history = useHistory();\n\n  const submitHandler = async (e) => {\n    e.preventDefault();\n\n    try {\n      const newUser = { name, email, password, passwordConfirm };\n      await axios.post(\"/signup\", newUser);\n      const loginRes = await axios.post(\"/login\", { email, password });\n      const { token, user } = { ...loginRes.data };\n      setUserData({ token, user });\n      localStorage.setItem(\"auth-token\", token);\n      history.push(\"/\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={classes.Signup__container}>\n      <h1 className={classes.Signup__heading}>Register</h1>\n      <form className={classes.Signup__form} onSubmit={submitHandler}>\n        <label>Name</label>\n        <br />\n        <input\n          type=\"text\"\n          placeholder=\"Enter your name\"\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n        <br />\n\n        <label>Email</label>\n        <br />\n        <input\n          type=\"email\"\n          placeholder=\"Enter email\"\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <br />\n\n        <label>Password</label>\n        <br />\n        <input\n          type=\"password\"\n          placeholder=\"Enter password\"\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <br />\n\n        <label>Confirm Password</label>\n        <br />\n        <input\n          type=\"password\"\n          placeholder=\"Enter same password\"\n          onChange={(e) => setPasswordConfirm(e.target.value)}\n          required\n        />\n        <br />\n\n        <button type=\"submit\" className={classes.Signup__button}>\n          Register\n        </button>\n        <p>\n          Already have an account? <Link to=\"/login\">Log in</Link>\n        </p>\n      </form>\n    </div>\n  );\n}\n","/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/chat/chat.js",[],"/home/anirudh/Desktop/web dev/personal projects/major projects/whatsapp-clone/src/components/sidebarChat/sidebarChat.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":43,"column":6,"nodeType":"68","endLine":43,"endColumn":8,"suggestions":"69"},{"ruleId":"70","severity":1,"message":"71","line":12,"column":8,"nodeType":"72","messageId":"73","endLine":12,"endColumn":22},{"ruleId":"70","severity":1,"message":"74","line":13,"column":8,"nodeType":"72","messageId":"73","endLine":13,"endColumn":20},{"ruleId":"70","severity":1,"message":"75","line":14,"column":8,"nodeType":"72","messageId":"73","endLine":14,"endColumn":16},{"ruleId":"70","severity":1,"message":"76","line":15,"column":18,"nodeType":"72","messageId":"73","endLine":15,"endColumn":28},{"ruleId":"70","severity":1,"message":"77","line":10,"column":10,"nodeType":"72","messageId":"73","endLine":10,"endColumn":15},{"ruleId":"70","severity":1,"message":"78","line":12,"column":11,"nodeType":"72","messageId":"73","endLine":12,"endColumn":19},{"ruleId":"70","severity":1,"message":"77","line":12,"column":10,"nodeType":"72","messageId":"73","endLine":12,"endColumn":15},{"ruleId":"70","severity":1,"message":"79","line":12,"column":17,"nodeType":"72","messageId":"73","endLine":12,"endColumn":25},"no-native-reassign",["80"],"no-negated-in-lhs",["81"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'history'. Either include it or remove the dependency array.","ArrayExpression",["82"],"no-unused-vars","'DonutLargeIcon' is defined but never used.","Identifier","unusedVar","'MoreVertIcon' is defined but never used.","'ChatIcon' is defined but never used.","'IconButton' is defined but never used.","'error' is assigned a value but never used.","'userData' is assigned a value but never used.","'setError' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"83","fix":"84"},"Update the dependencies array to be: [history]",{"range":"85","text":"86"},[1200,1202],"[history]"]